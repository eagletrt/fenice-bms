

<!DOCTYPE html>
<html class="writer-html4" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Function _ltc6813_wrcfg(SPI_HandleTypeDef *, bool, bool) &mdash; Fenice BMS HV 1.0.0 documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/collapsible-lists/css/tree_view.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
        <script type="text/javascript" src="../_static/collapsible-lists/js/CollapsibleLists.compressed.js"></script>
        <script type="text/javascript" src="../_static/collapsible-lists/js/apply-collapsible-lists.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Function _max_index" href="function_bal_8c_1ae00338771ec77948b7fbd3e5b29a0ddb.html" />
    <link rel="prev" title="Function _ltc6813_wrcfg(SPI_HandleTypeDef *, bool, bool)" href="function_ltc6813_8h_1a684d6a9ae823683b80e5fb210070d712.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> Fenice BMS HV
          

          
          </a>

          
            
            
              <div class="version">
                1.0.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="library_root.html">Software</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Fenice BMS HV</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="library_root.html">Software</a> &raquo;</li>
        
      <li>Function _ltc6813_wrcfg(SPI_HandleTypeDef *, bool, bool)</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/api/function_ltc6813_8c_1ab543e90701ab1e4afd4c21b3f8233baf.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="function-ltc6813-wrcfg-spi-handletypedef-bool-bool">
<span id="exhale-function-ltc6813-8c-1ab543e90701ab1e4afd4c21b3f8233baf"></span><h1>Function _ltc6813_wrcfg(SPI_HandleTypeDef *, bool, bool)<a class="headerlink" href="#function-ltc6813-wrcfg-spi-handletypedef-bool-bool" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li>Defined in <a class="reference internal" href="file_mainboard_Src_peripherals_ltc6813.c.html#file-mainboard-src-peripherals-ltc6813-c"><span class="std std-ref">File ltc6813.c</span></a></li>
</ul>
<div class="section" id="function-documentation">
<h2>Function Documentation<a class="headerlink" href="#function-documentation" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="_CPPv414_ltc6813_wrcfgP17SPI_HandleTypeDefbb">
<span id="_CPPv314_ltc6813_wrcfgP17SPI_HandleTypeDefbb"></span><span id="_CPPv214_ltc6813_wrcfgP17SPI_HandleTypeDefbb"></span><span id="_ltc6813_wrcfg__SPI_HandleTypeDefP.b.b"></span><span class="target" id="ltc6813_8h_1a684d6a9ae823683b80e5fb210070d712"></span>void <code class="descname">_ltc6813_wrcfg</code><span class="sig-paren">(</span>SPI_HandleTypeDef *<em>hspi</em>, bool <em>start</em>, bool <em>parity</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv414_ltc6813_wrcfgP17SPI_HandleTypeDefbb" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Enable or disable the temperature measurement through balancing. </p>
<p>Since it’s not possible to read the temperatures from adiacent cells at the same time, We split the measurement into two times, read odd cells, and then even ones. To write configuration you have to send 2 consecutive commands: <div class="highlight-c notranslate"><div class="highlight"><pre><span></span>    <span class="nl">WRCFG</span><span class="p">:</span>
        <span class="mi">1</span>     <span class="n">CMD0</span>    <span class="mi">8</span>     <span class="n">CMD1</span>      <span class="mi">16</span>      <span class="mi">32</span>
        <span class="o">|-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-|-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-|-</span> <span class="p">...</span> <span class="o">-|</span>
        <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">1</span>  <span class="n">PEC</span>

    <span class="nl">CFGR</span><span class="p">:</span>
        <span class="mi">1</span>             <span class="mi">8</span>               <span class="mi">16</span>
        <span class="o">|-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-|-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-|</span>
        <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span>
        <span class="mi">17</span>            <span class="mi">24</span>              <span class="mi">32</span>
        <span class="o">|-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-|-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-|</span>
        <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span>
    <span class="mi">33</span>            <span class="mi">40</span>              <span class="mi">48</span>      <span class="mi">64</span>
    <span class="o">|-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-|-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-</span> <span class="o">-|-</span> <span class="p">...</span> <span class="o">-|</span>
    <span class="mi">1</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">1</span> <span class="mi">0</span> <span class="mi">1</span> <span class="mi">0</span> <span class="mi">1</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">1</span> <span class="mi">0</span>  <span class="n">PEC</span>    <span class="o">&lt;-</span> <span class="n">For</span> <span class="n">odd</span> <span class="n">cells</span>
                  <span class="n">or</span>
    <span class="mi">0</span> <span class="mi">1</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">1</span> <span class="mi">0</span> <span class="mi">1</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">1</span>  <span class="n">PEC</span>    <span class="o">&lt;-</span> <span class="n">For</span> <span class="n">even</span> <span class="n">cells</span>
</pre></div>
</div>
</p>
<p><dl class="docutils">
<dt><strong>Parameters</strong></dt>
<dd><ul class="breatheparameterlist first last simple">
<li><code class="docutils literal notranslate"><span class="pre">hspi</span></code>: The SPI configuration structure </li>
<li><code class="docutils literal notranslate"><span class="pre">start_bal</span></code>: whether to start temperature measurement </li>
<li><code class="docutils literal notranslate"><span class="pre">even</span></code>: Indicates whether we’re reading odd or even cells </li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="function_bal_8c_1ae00338771ec77948b7fbd3e5b29a0ddb.html" class="btn btn-neutral float-right" title="Function _max_index" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="function_ltc6813_8h_1a684d6a9ae823683b80e5fb210070d712.html" class="btn btn-neutral float-left" title="Function _ltc6813_wrcfg(SPI_HandleTypeDef *, bool, bool)" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, E-Agle TRT.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>