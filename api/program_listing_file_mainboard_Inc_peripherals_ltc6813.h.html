

<!DOCTYPE html>
<html class="writer-html4" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Program Listing for File ltc6813.h &mdash; Fenice BMS HV 1.0.0 documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/collapsible-lists/css/tree_view.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
        <script type="text/javascript" src="../_static/collapsible-lists/js/CollapsibleLists.compressed.js"></script>
        <script type="text/javascript" src="../_static/collapsible-lists/js/apply-collapsible-lists.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> Fenice BMS HV
          

          
          </a>

          
            
            
              <div class="version">
                1.0.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="library_root.html">Software</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Fenice BMS HV</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Program Listing for File ltc6813.h</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/api/program_listing_file_mainboard_Inc_peripherals_ltc6813.h.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="program-listing-for-file-ltc6813-h">
<span id="program-listing-file-mainboard-inc-peripherals-ltc6813-h"></span><h1>Program Listing for File ltc6813.h<a class="headerlink" href="#program-listing-for-file-ltc6813-h" title="Permalink to this headline">¶</a></h1>
<p>↰ <a class="reference internal" href="file_mainboard_Inc_peripherals_ltc6813.h.html#file-mainboard-inc-peripherals-ltc6813-h"><span class="std std-ref">Return to documentation for file</span></a> (<code class="docutils literal notranslate"><span class="pre">mainboard/Inc/peripherals/ltc6813.h</span></code>)</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#ifndef LTC6813_H</span>
<span class="cp">#define LTC6813_H</span>

<span class="cp">#define GPIO_CFGAR_MASK 0b11111000</span>
<span class="cp">#define GPIO_I2C_MODE 0b11000000</span>
<span class="cp">#define GPIO_VOID 0b00000000</span>
<span class="cp">#define GPIO_CFGAR_POS 0</span>

<span class="cp">#include</span> <span class="cpf">&lt;inttypes.h&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;stdbool.h&gt;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&lt;stm32g4xx_hal.h&gt;</span><span class="cp"></span>

<span class="cp">#include</span> <span class="cpf">&quot;error/error.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;fenice_config.h&quot;</span><span class="cp"></span>
<span class="cp">#include</span> <span class="cpf">&quot;peripherals/ltc6813_utils.h&quot;</span><span class="cp"></span>

<span class="k">static</span> <span class="k">const</span> <span class="kt">uint16_t</span> <span class="n">crcTable</span><span class="p">[</span><span class="mi">256</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
    <span class="mh">0x0</span><span class="p">,</span> <span class="mh">0xc599</span><span class="p">,</span> <span class="mh">0xceab</span><span class="p">,</span> <span class="mh">0xb32</span><span class="p">,</span> <span class="mh">0xd8cf</span><span class="p">,</span> <span class="mh">0x1d56</span><span class="p">,</span> <span class="mh">0x1664</span><span class="p">,</span> <span class="mh">0xd3fd</span><span class="p">,</span> <span class="mh">0xf407</span><span class="p">,</span>
    <span class="mh">0x319e</span><span class="p">,</span> <span class="mh">0x3aac</span><span class="p">,</span> <span class="mh">0xff35</span><span class="p">,</span> <span class="mh">0x2cc8</span><span class="p">,</span> <span class="mh">0xe951</span><span class="p">,</span> <span class="mh">0xe263</span><span class="p">,</span> <span class="mh">0x27fa</span><span class="p">,</span> <span class="mh">0xad97</span><span class="p">,</span> <span class="mh">0x680e</span><span class="p">,</span>
    <span class="mh">0x633c</span><span class="p">,</span> <span class="mh">0xa6a5</span><span class="p">,</span> <span class="mh">0x7558</span><span class="p">,</span> <span class="mh">0xb0c1</span><span class="p">,</span> <span class="mh">0xbbf3</span><span class="p">,</span> <span class="mh">0x7e6a</span><span class="p">,</span> <span class="mh">0x5990</span><span class="p">,</span> <span class="mh">0x9c09</span><span class="p">,</span> <span class="mh">0x973b</span><span class="p">,</span>
    <span class="mh">0x52a2</span><span class="p">,</span> <span class="mh">0x815f</span><span class="p">,</span> <span class="mh">0x44c6</span><span class="p">,</span> <span class="mh">0x4ff4</span><span class="p">,</span> <span class="mh">0x8a6d</span><span class="p">,</span> <span class="mh">0x5b2e</span><span class="p">,</span> <span class="mh">0x9eb7</span><span class="p">,</span> <span class="mh">0x9585</span><span class="p">,</span> <span class="mh">0x501c</span><span class="p">,</span>
    <span class="mh">0x83e1</span><span class="p">,</span> <span class="mh">0x4678</span><span class="p">,</span> <span class="mh">0x4d4a</span><span class="p">,</span> <span class="mh">0x88d3</span><span class="p">,</span> <span class="mh">0xaf29</span><span class="p">,</span> <span class="mh">0x6ab0</span><span class="p">,</span> <span class="mh">0x6182</span><span class="p">,</span> <span class="mh">0xa41b</span><span class="p">,</span> <span class="mh">0x77e6</span><span class="p">,</span>
    <span class="mh">0xb27f</span><span class="p">,</span> <span class="mh">0xb94d</span><span class="p">,</span> <span class="mh">0x7cd4</span><span class="p">,</span> <span class="mh">0xf6b9</span><span class="p">,</span> <span class="mh">0x3320</span><span class="p">,</span> <span class="mh">0x3812</span><span class="p">,</span> <span class="mh">0xfd8b</span><span class="p">,</span> <span class="mh">0x2e76</span><span class="p">,</span> <span class="mh">0xebef</span><span class="p">,</span>
    <span class="mh">0xe0dd</span><span class="p">,</span> <span class="mh">0x2544</span><span class="p">,</span> <span class="mh">0x2be</span><span class="p">,</span> <span class="mh">0xc727</span><span class="p">,</span> <span class="mh">0xcc15</span><span class="p">,</span> <span class="mh">0x98c</span><span class="p">,</span> <span class="mh">0xda71</span><span class="p">,</span> <span class="mh">0x1fe8</span><span class="p">,</span> <span class="mh">0x14da</span><span class="p">,</span>
    <span class="mh">0xd143</span><span class="p">,</span> <span class="mh">0xf3c5</span><span class="p">,</span> <span class="mh">0x365c</span><span class="p">,</span> <span class="mh">0x3d6e</span><span class="p">,</span> <span class="mh">0xf8f7</span><span class="p">,</span> <span class="mh">0x2b0a</span><span class="p">,</span> <span class="mh">0xee93</span><span class="p">,</span> <span class="mh">0xe5a1</span><span class="p">,</span> <span class="mh">0x2038</span><span class="p">,</span>
    <span class="mh">0x7c2</span><span class="p">,</span> <span class="mh">0xc25b</span><span class="p">,</span> <span class="mh">0xc969</span><span class="p">,</span> <span class="mh">0xcf0</span><span class="p">,</span> <span class="mh">0xdf0d</span><span class="p">,</span> <span class="mh">0x1a94</span><span class="p">,</span> <span class="mh">0x11a6</span><span class="p">,</span> <span class="mh">0xd43f</span><span class="p">,</span> <span class="mh">0x5e52</span><span class="p">,</span>
    <span class="mh">0x9bcb</span><span class="p">,</span> <span class="mh">0x90f9</span><span class="p">,</span> <span class="mh">0x5560</span><span class="p">,</span> <span class="mh">0x869d</span><span class="p">,</span> <span class="mh">0x4304</span><span class="p">,</span> <span class="mh">0x4836</span><span class="p">,</span> <span class="mh">0x8daf</span><span class="p">,</span> <span class="mh">0xaa55</span><span class="p">,</span> <span class="mh">0x6fcc</span><span class="p">,</span>
    <span class="mh">0x64fe</span><span class="p">,</span> <span class="mh">0xa167</span><span class="p">,</span> <span class="mh">0x729a</span><span class="p">,</span> <span class="mh">0xb703</span><span class="p">,</span> <span class="mh">0xbc31</span><span class="p">,</span> <span class="mh">0x79a8</span><span class="p">,</span> <span class="mh">0xa8eb</span><span class="p">,</span> <span class="mh">0x6d72</span><span class="p">,</span> <span class="mh">0x6640</span><span class="p">,</span>
    <span class="mh">0xa3d9</span><span class="p">,</span> <span class="mh">0x7024</span><span class="p">,</span> <span class="mh">0xb5bd</span><span class="p">,</span> <span class="mh">0xbe8f</span><span class="p">,</span> <span class="mh">0x7b16</span><span class="p">,</span> <span class="mh">0x5cec</span><span class="p">,</span> <span class="mh">0x9975</span><span class="p">,</span> <span class="mh">0x9247</span><span class="p">,</span> <span class="mh">0x57de</span><span class="p">,</span>
    <span class="mh">0x8423</span><span class="p">,</span> <span class="mh">0x41ba</span><span class="p">,</span> <span class="mh">0x4a88</span><span class="p">,</span> <span class="mh">0x8f11</span><span class="p">,</span> <span class="mh">0x57c</span><span class="p">,</span> <span class="mh">0xc0e5</span><span class="p">,</span> <span class="mh">0xcbd7</span><span class="p">,</span> <span class="mh">0xe4e</span><span class="p">,</span> <span class="mh">0xddb3</span><span class="p">,</span>
    <span class="mh">0x182a</span><span class="p">,</span> <span class="mh">0x1318</span><span class="p">,</span> <span class="mh">0xd681</span><span class="p">,</span> <span class="mh">0xf17b</span><span class="p">,</span> <span class="mh">0x34e2</span><span class="p">,</span> <span class="mh">0x3fd0</span><span class="p">,</span> <span class="mh">0xfa49</span><span class="p">,</span> <span class="mh">0x29b4</span><span class="p">,</span> <span class="mh">0xec2d</span><span class="p">,</span>
    <span class="mh">0xe71f</span><span class="p">,</span> <span class="mh">0x2286</span><span class="p">,</span> <span class="mh">0xa213</span><span class="p">,</span> <span class="mh">0x678a</span><span class="p">,</span> <span class="mh">0x6cb8</span><span class="p">,</span> <span class="mh">0xa921</span><span class="p">,</span> <span class="mh">0x7adc</span><span class="p">,</span> <span class="mh">0xbf45</span><span class="p">,</span> <span class="mh">0xb477</span><span class="p">,</span>
    <span class="mh">0x71ee</span><span class="p">,</span> <span class="mh">0x5614</span><span class="p">,</span> <span class="mh">0x938d</span><span class="p">,</span> <span class="mh">0x98bf</span><span class="p">,</span> <span class="mh">0x5d26</span><span class="p">,</span> <span class="mh">0x8edb</span><span class="p">,</span> <span class="mh">0x4b42</span><span class="p">,</span> <span class="mh">0x4070</span><span class="p">,</span> <span class="mh">0x85e9</span><span class="p">,</span>
    <span class="mh">0xf84</span><span class="p">,</span> <span class="mh">0xca1d</span><span class="p">,</span> <span class="mh">0xc12f</span><span class="p">,</span> <span class="mh">0x4b6</span><span class="p">,</span> <span class="mh">0xd74b</span><span class="p">,</span> <span class="mh">0x12d2</span><span class="p">,</span> <span class="mh">0x19e0</span><span class="p">,</span> <span class="mh">0xdc79</span><span class="p">,</span> <span class="mh">0xfb83</span><span class="p">,</span>
    <span class="mh">0x3e1a</span><span class="p">,</span> <span class="mh">0x3528</span><span class="p">,</span> <span class="mh">0xf0b1</span><span class="p">,</span> <span class="mh">0x234c</span><span class="p">,</span> <span class="mh">0xe6d5</span><span class="p">,</span> <span class="mh">0xede7</span><span class="p">,</span> <span class="mh">0x287e</span><span class="p">,</span> <span class="mh">0xf93d</span><span class="p">,</span> <span class="mh">0x3ca4</span><span class="p">,</span>
    <span class="mh">0x3796</span><span class="p">,</span> <span class="mh">0xf20f</span><span class="p">,</span> <span class="mh">0x21f2</span><span class="p">,</span> <span class="mh">0xe46b</span><span class="p">,</span> <span class="mh">0xef59</span><span class="p">,</span> <span class="mh">0x2ac0</span><span class="p">,</span> <span class="mh">0xd3a</span><span class="p">,</span> <span class="mh">0xc8a3</span><span class="p">,</span> <span class="mh">0xc391</span><span class="p">,</span>
    <span class="mh">0x608</span><span class="p">,</span> <span class="mh">0xd5f5</span><span class="p">,</span> <span class="mh">0x106c</span><span class="p">,</span> <span class="mh">0x1b5e</span><span class="p">,</span> <span class="mh">0xdec7</span><span class="p">,</span> <span class="mh">0x54aa</span><span class="p">,</span> <span class="mh">0x9133</span><span class="p">,</span> <span class="mh">0x9a01</span><span class="p">,</span> <span class="mh">0x5f98</span><span class="p">,</span>
    <span class="mh">0x8c65</span><span class="p">,</span> <span class="mh">0x49fc</span><span class="p">,</span> <span class="mh">0x42ce</span><span class="p">,</span> <span class="mh">0x8757</span><span class="p">,</span> <span class="mh">0xa0ad</span><span class="p">,</span> <span class="mh">0x6534</span><span class="p">,</span> <span class="mh">0x6e06</span><span class="p">,</span> <span class="mh">0xab9f</span><span class="p">,</span> <span class="mh">0x7862</span><span class="p">,</span>
    <span class="mh">0xbdfb</span><span class="p">,</span> <span class="mh">0xb6c9</span><span class="p">,</span> <span class="mh">0x7350</span><span class="p">,</span> <span class="mh">0x51d6</span><span class="p">,</span> <span class="mh">0x944f</span><span class="p">,</span> <span class="mh">0x9f7d</span><span class="p">,</span> <span class="mh">0x5ae4</span><span class="p">,</span> <span class="mh">0x8919</span><span class="p">,</span> <span class="mh">0x4c80</span><span class="p">,</span>
    <span class="mh">0x47b2</span><span class="p">,</span> <span class="mh">0x822b</span><span class="p">,</span> <span class="mh">0xa5d1</span><span class="p">,</span> <span class="mh">0x6048</span><span class="p">,</span> <span class="mh">0x6b7a</span><span class="p">,</span> <span class="mh">0xaee3</span><span class="p">,</span> <span class="mh">0x7d1e</span><span class="p">,</span> <span class="mh">0xb887</span><span class="p">,</span> <span class="mh">0xb3b5</span><span class="p">,</span>
    <span class="mh">0x762c</span><span class="p">,</span> <span class="mh">0xfc41</span><span class="p">,</span> <span class="mh">0x39d8</span><span class="p">,</span> <span class="mh">0x32ea</span><span class="p">,</span> <span class="mh">0xf773</span><span class="p">,</span> <span class="mh">0x248e</span><span class="p">,</span> <span class="mh">0xe117</span><span class="p">,</span> <span class="mh">0xea25</span><span class="p">,</span> <span class="mh">0x2fbc</span><span class="p">,</span>
    <span class="mh">0x846</span><span class="p">,</span> <span class="mh">0xcddf</span><span class="p">,</span> <span class="mh">0xc6ed</span><span class="p">,</span> <span class="mh">0x374</span><span class="p">,</span> <span class="mh">0xd089</span><span class="p">,</span> <span class="mh">0x1510</span><span class="p">,</span> <span class="mh">0x1e22</span><span class="p">,</span> <span class="mh">0xdbbb</span><span class="p">,</span> <span class="mh">0xaf8</span><span class="p">,</span>
    <span class="mh">0xcf61</span><span class="p">,</span> <span class="mh">0xc453</span><span class="p">,</span> <span class="mh">0x1ca</span><span class="p">,</span> <span class="mh">0xd237</span><span class="p">,</span> <span class="mh">0x17ae</span><span class="p">,</span> <span class="mh">0x1c9c</span><span class="p">,</span> <span class="mh">0xd905</span><span class="p">,</span> <span class="mh">0xfeff</span><span class="p">,</span> <span class="mh">0x3b66</span><span class="p">,</span>
    <span class="mh">0x3054</span><span class="p">,</span> <span class="mh">0xf5cd</span><span class="p">,</span> <span class="mh">0x2630</span><span class="p">,</span> <span class="mh">0xe3a9</span><span class="p">,</span> <span class="mh">0xe89b</span><span class="p">,</span> <span class="mh">0x2d02</span><span class="p">,</span> <span class="mh">0xa76f</span><span class="p">,</span> <span class="mh">0x62f6</span><span class="p">,</span> <span class="mh">0x69c4</span><span class="p">,</span>
    <span class="mh">0xac5d</span><span class="p">,</span> <span class="mh">0x7fa0</span><span class="p">,</span> <span class="mh">0xba39</span><span class="p">,</span> <span class="mh">0xb10b</span><span class="p">,</span> <span class="mh">0x7492</span><span class="p">,</span> <span class="mh">0x5368</span><span class="p">,</span> <span class="mh">0x96f1</span><span class="p">,</span> <span class="mh">0x9dc3</span><span class="p">,</span> <span class="mh">0x585a</span><span class="p">,</span>
    <span class="mh">0x8ba7</span><span class="p">,</span> <span class="mh">0x4e3e</span><span class="p">,</span> <span class="mh">0x450c</span><span class="p">,</span> <span class="mh">0x8095</span><span class="p">};</span>

<span class="c1">// Cell index to discharge</span>
<span class="k">static</span> <span class="k">const</span> <span class="kt">uint16_t</span> <span class="n">dcc</span><span class="p">[</span><span class="n">LTC6813_CELL_COUNT</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
    <span class="mi">0</span><span class="n">b00000001</span><span class="p">,</span>  <span class="c1">// DCC1  0x01  cfg4a</span>
    <span class="mi">0</span><span class="n">b00000010</span><span class="p">,</span>  <span class="c1">// DCC2  0x02</span>
    <span class="mi">0</span><span class="n">b00000100</span><span class="p">,</span>  <span class="c1">// DCC3  0x04</span>
    <span class="mi">0</span><span class="n">b00001000</span><span class="p">,</span>  <span class="c1">// DCC4  0x08-</span>
    <span class="mi">0</span><span class="n">b00010000</span><span class="p">,</span>  <span class="c1">// DCC5  0x10-</span>
    <span class="mi">0</span><span class="n">b00100000</span><span class="p">,</span>  <span class="c1">// DCC6  0x20-</span>
    <span class="mi">0</span><span class="n">b01000000</span><span class="p">,</span>  <span class="c1">// DCC7  0x40-</span>
    <span class="mi">0</span><span class="n">b10000000</span><span class="p">,</span>  <span class="c1">// DCC8  0x80-</span>

    <span class="mi">0</span><span class="n">b00000001</span><span class="p">,</span>  <span class="c1">// DCC9  0x01    cfg5A</span>
    <span class="mi">0</span><span class="n">b00000010</span><span class="p">,</span>  <span class="c1">// DCC10  0x02</span>
    <span class="mi">0</span><span class="n">b00000100</span><span class="p">,</span>  <span class="c1">// DCC11  0x04</span>
    <span class="mi">0</span><span class="n">b00001000</span><span class="p">,</span>  <span class="c1">// DCC12  0x08-</span>

    <span class="mi">0</span><span class="n">b00010000</span><span class="p">,</span>  <span class="c1">// DCC13  0x10-     cfg0b</span>
    <span class="mi">0</span><span class="n">b00100000</span><span class="p">,</span>  <span class="c1">// DCC14  0x20-</span>
    <span class="mi">0</span><span class="n">b01000000</span><span class="p">,</span>  <span class="c1">// DCC15  0x40-</span>
    <span class="mi">0</span><span class="n">b10000000</span><span class="p">,</span>  <span class="c1">// DCC16  0x80-</span>

    <span class="mi">0</span><span class="n">b00000001</span><span class="p">,</span>  <span class="c1">// DCC17 0x01    cfg1b</span>
    <span class="mi">0</span><span class="n">b00000010</span>   <span class="c1">// DCCC18</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">const</span> <span class="kt">uint8_t</span> <span class="n">rdcv_cmd</span><span class="p">[</span><span class="n">LTC6813_REG_COUNT</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
    <span class="mi">0</span><span class="n">b0100</span><span class="p">,</span>  <span class="c1">// A</span>
    <span class="mi">0</span><span class="n">b0110</span><span class="p">,</span>  <span class="c1">// B</span>
    <span class="mi">0</span><span class="n">b1000</span><span class="p">,</span>  <span class="c1">// C</span>
    <span class="mi">0</span><span class="n">b1010</span><span class="p">,</span>  <span class="c1">// D</span>
    <span class="mi">0</span><span class="n">b1001</span><span class="p">,</span>  <span class="c1">// E</span>
    <span class="mi">0</span><span class="n">b1011</span><span class="p">,</span>  <span class="c1">// F</span>
<span class="p">};</span>

<span class="k">static</span> <span class="k">const</span> <span class="kt">uint32_t</span> <span class="n">dcto</span><span class="p">[</span><span class="mi">16</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
    <span class="mi">0</span><span class="p">,</span>        <span class="c1">// disabled</span>
    <span class="mi">30000</span><span class="p">,</span>    <span class="c1">// 30 sec</span>
    <span class="mi">60000</span><span class="p">,</span>    <span class="c1">// 1 min</span>
    <span class="mi">120000</span><span class="p">,</span>   <span class="c1">// 2 ...</span>
    <span class="mi">180000</span><span class="p">,</span>   <span class="c1">// 3</span>
    <span class="mi">240000</span><span class="p">,</span>   <span class="c1">// 4</span>
    <span class="mi">300000</span><span class="p">,</span>   <span class="c1">// 5</span>
    <span class="mi">600000</span><span class="p">,</span>   <span class="c1">// 10</span>
    <span class="mi">900000</span><span class="p">,</span>   <span class="c1">// 15</span>
    <span class="mi">1200000</span><span class="p">,</span>  <span class="c1">// 20</span>
    <span class="mi">1800000</span><span class="p">,</span>  <span class="c1">// 30</span>
    <span class="mi">2400000</span><span class="p">,</span>  <span class="c1">// 40</span>
    <span class="mi">3600000</span><span class="p">,</span>  <span class="c1">// 60</span>
    <span class="mi">4500000</span><span class="p">,</span>  <span class="c1">// 75</span>
    <span class="mi">5400000</span><span class="p">,</span>  <span class="c1">// 90</span>
    <span class="mi">7200000</span>   <span class="c1">// 120</span>
<span class="p">};</span>

<span class="k">extern</span> <span class="kt">uint8_t</span> <span class="n">GPIO_CONFIG</span><span class="p">;</span>  <span class="c1">// GPIO CONFIG</span>

<span class="kt">void</span> <span class="nf">ltc6813_enable_cs</span><span class="p">(</span><span class="n">SPI_HandleTypeDef</span> <span class="o">*</span><span class="n">spi</span><span class="p">,</span> <span class="n">GPIO_TypeDef</span> <span class="o">*</span><span class="n">gpio</span><span class="p">,</span>
                       <span class="kt">uint16_t</span> <span class="n">pin</span><span class="p">);</span>
<span class="kt">void</span> <span class="nf">ltc6813_disable_cs</span><span class="p">(</span><span class="n">SPI_HandleTypeDef</span> <span class="o">*</span><span class="n">spi</span><span class="p">,</span> <span class="n">GPIO_TypeDef</span> <span class="o">*</span><span class="n">gpio</span><span class="p">,</span>
                        <span class="kt">uint16_t</span> <span class="n">pin</span><span class="p">);</span>
<span class="kt">void</span> <span class="nf">ltc6813_wakeup_idle</span><span class="p">(</span><span class="n">SPI_HandleTypeDef</span> <span class="o">*</span><span class="n">hspi</span><span class="p">);</span>

<span class="kt">uint16_t</span> <span class="nf">ltc6813_pec15</span><span class="p">(</span><span class="kt">uint8_t</span> <span class="n">len</span><span class="p">,</span> <span class="kt">uint8_t</span> <span class="n">data</span><span class="p">[]);</span>

<span class="c1">// TODO: THESE ARE PRIVATE!!</span>
<span class="kt">void</span> <span class="nf">_ltc6813_adcv</span><span class="p">(</span><span class="n">SPI_HandleTypeDef</span> <span class="o">*</span><span class="n">hspi</span><span class="p">,</span> <span class="kt">bool</span> <span class="n">DCP</span><span class="p">);</span>
<span class="kt">void</span> <span class="nf">_ltc6813_wrcfg</span><span class="p">(</span><span class="n">SPI_HandleTypeDef</span> <span class="o">*</span><span class="n">hspi</span><span class="p">,</span> <span class="kt">bool</span> <span class="n">start</span><span class="p">,</span> <span class="kt">bool</span> <span class="n">parity</span><span class="p">);</span>

<span class="kt">void</span> <span class="nf">ltc6813_wrcomm_i2c</span><span class="p">(</span><span class="n">SPI_HandleTypeDef</span> <span class="o">*</span><span class="n">hspi</span><span class="p">,</span> <span class="kt">uint8_t</span> <span class="n">data</span><span class="p">[</span><span class="mi">8</span><span class="p">]);</span>
<span class="kt">void</span> <span class="nf">ltc6813_wrcomm_i2c_w</span><span class="p">(</span><span class="n">SPI_HandleTypeDef</span> <span class="o">*</span><span class="n">hspi</span><span class="p">,</span> <span class="kt">uint8_t</span> <span class="n">address</span><span class="p">,</span>
                          <span class="kt">uint8_t</span> <span class="o">*</span><span class="n">data</span><span class="p">);</span>
<span class="kt">void</span> <span class="nf">ltc6813_wrcomm_i2c_r</span><span class="p">(</span><span class="n">SPI_HandleTypeDef</span> <span class="o">*</span><span class="n">hspi</span><span class="p">,</span> <span class="kt">uint8_t</span> <span class="n">address</span><span class="p">);</span>
<span class="kt">void</span> <span class="nf">ltc6813_stcomm_i2c</span><span class="p">(</span><span class="n">SPI_HandleTypeDef</span> <span class="o">*</span><span class="n">hspi</span><span class="p">,</span> <span class="kt">uint8_t</span> <span class="n">length</span><span class="p">);</span>
<span class="kt">bool</span> <span class="nf">ltc6813_rdcomm_i2c</span><span class="p">(</span><span class="n">SPI_HandleTypeDef</span> <span class="o">*</span><span class="n">hspi</span><span class="p">,</span> <span class="kt">uint8_t</span> <span class="n">data</span><span class="p">[</span><span class="mi">8</span><span class="p">]);</span>

<span class="kt">void</span> <span class="nf">ltc6813_wrcfg</span><span class="p">(</span><span class="n">SPI_HandleTypeDef</span> <span class="o">*</span><span class="n">hspi</span><span class="p">,</span> <span class="kt">bool</span> <span class="n">is_a</span><span class="p">,</span> <span class="kt">uint8_t</span> <span class="n">cfgr</span><span class="p">[</span><span class="n">LTC6813_COUNT</span><span class="p">][</span><span class="mi">8</span><span class="p">]);</span>

<span class="cp">#endif </span><span class="cm">/* LTC6813_H_ */</span><span class="cp"></span>
</pre></div>
</div>
</div>


           </div>
           
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, E-Agle TRT.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>